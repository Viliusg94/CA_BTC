<!-- API dokumentacijos šablonas -->
{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
    <div class="row">
        <!-- Šoninė navigacija -->
        <div class="col-md-3">
            <div class="list-group mb-4">
                <a href="{{ url_for('docs.index') }}" class="list-group-item list-group-item-action">
                    <i class="fas fa-arrow-left"></i> Grįžti į pagalbos centrą
                </a>
                
                <!-- API kategorijos -->
                <div class="list-group-item list-group-item-secondary">API kategorijos</div>
                
                <a href="#authentication" class="list-group-item list-group-item-action">Autentifikacija</a>
                <a href="#models" class="list-group-item list-group-item-action">Modelių API</a>
                <a href="#training" class="list-group-item list-group-item-action">Treniravimo API</a>
                <a href="#predictions" class="list-group-item list-group-item-action">Prognozių API</a>
                <a href="#notifications" class="list-group-item list-group-item-action">Pranešimų API</a>
            </div>
        </div>
        
        <!-- Pagrindinis turinys -->
        <div class="col-md-9">
            <div class="card">
                <div class="card-body">
                    <h1 class="mb-4">API Dokumentacija</h1>
                    
                    <p class="lead">
                        Bitcoin prognozavimo sistema suteikia REST API, leidžiantį integruoti funkcionalumą
                        į išorines sistemas. Šiame puslapyje rasite detalią API dokumentaciją.
                    </p>
                    
                    <!-- Autentifikacija -->
                    <section id="authentication" class="mb-5">
                        <h2>Autentifikacija</h2>
                        <p>
                            Visi API reikalauja autentifikacijos. Naudojama JWT (JSON Web Token) autentifikacija.
                        </p>
                        
                        <h4 class="mt-4">Gauti prieigos tokeną</h4>
                        <div class="card bg-light mb-3">
                            <div class="card-body">
                                <p><strong>Endpoint:</strong> <code>POST /api/auth/token</code></p>
                                <p><strong>Užklausos duomenys:</strong></p>
                                <pre><code>{
  "username": "vardas",
  "password": "slaptazodis"
}</code></pre>
                                <p><strong>Atsakymas:</strong></p>
                                <pre><code>{
  "access_token": "eyJhbGci...",
  "token_type": "bearer",
  "expires_in": 3600
}</code></pre>
                            </div>
                        </div>
                    </section>
                    
                    <!-- Modelių API -->
                    <section id="models" class="mb-5">
                        <h2>Modelių API</h2>
                        
                        <h4 class="mt-4">Gauti visus modelius</h4>
                        <div class="card bg-light mb-3">
                            <div class="card-body">
                                <p><strong>Endpoint:</strong> <code>GET /api/models</code></p>
                                <p><strong>Atsakymas:</strong></p>
                                <pre><code>[
  {
    "id": "model123",
    "name": "LSTM modelis",
    "type": "lstm",
    "created_at": "2023-05-01T12:00:00",
    "status": "trained"
  },
  {
    "id": "model456",
    "name": "GRU modelis",
    "type": "gru",
    "created_at": "2023-05-02T14:30:00",
    "status": "training"
  }
]</code></pre>
                            </div>
                        </div>
                        
                        <!-- Daugiau modelių API endpoint'ų -->
                    </section>
                    
                    <!-- Treniravimo API -->
                    <section id="training" class="mb-5">
                        <h2>Treniravimo API</h2>
                        
                        <h4 class="mt-4">Gauti treniravimo užduotis</h4>
                        <div class="card bg-light mb-3">
                            <div class="card-body">
                                <p><strong>Endpoint:</strong> <code>GET /api/tasks</code></p>
                                <p><strong>Atsakymas:</strong></p>
                                <pre><code>[
  {
    "id": "task123",
    "name": "LSTM treniravimas",
    "model_id": "model123",
    "status": "pending",
    "scheduled_time": "2023-05-10T08:00:00"
  },
  {
    "id": "task456",
    "name": "GRU treniravimas",
    "model_id": "model456",
    "status": "running",
    "scheduled_time": "2023-05-09T14:00:00"
  }
]</code></pre>
                            </div>
                        </div>
                        
                        <!-- Daugiau treniravimo API endpoint'ų -->
                    </section>
                    
                    <!-- Prognozių API -->
                    <section id="predictions" class="mb-5">
                        <h2>Prognozių API</h2>
                        
                        <h4 class="mt-4">Sukurti naują prognozę</h4>
                        <div class="card bg-light mb-3">
                            <div class="card-body">
                                <p><strong>Endpoint:</strong> <code>POST /api/predictions</code></p>
                                <p><strong>Užklausos duomenys:</strong></p>
                                <pre><code>{
  "model_id": "model123",
  "period": "7d",
  "interval": "1h"
}</code></pre>
                                <p><strong>Atsakymas:</strong></p>
                                <pre><code>{
  "id": "pred123",
  "model_id": "model123",
  "created_at": "2023-05-10T12:00:00",
  "period": "7d",
  "interval": "1h",
  "values": [
    {"timestamp": "2023-05-10T13:00:00", "price": 27500.45},
    {"timestamp": "2023-05-10T14:00:00", "price": 27523.12},
    ...
  ]
}</code></pre>
                            </div>
                        </div>
                        
                        <!-- Daugiau prognozių API endpoint'ų -->
                    </section>
                    
                    <!-- Pranešimų API -->
                    <section id="notifications" class="mb-5">
                        <h2>Pranešimų API</h2>
                        
                        <h4 class="mt-4">Gauti neperskaitytų pranešimų skaičių</h4>
                        <div class="card bg-light mb-3">
                            <div class="card-body">
                                <p><strong>Endpoint:</strong> <code>GET /api/notifications/unread-count</code></p>
                                <p><strong>Atsakymas:</strong></p>
                                <pre><code>{
  "count": 3
}</code></pre>
                            </div>
                        </div>
                        
                        <!-- Daugiau pranešimų API endpoint'ų -->
                    </section>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}